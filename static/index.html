<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>诊断功能</title>
    <meta name="description" content="QTP-GMD Genomics and Bioinformatics Tools">
    <meta name="keywords" content="genomics, tools, blast, jbrowse, primer3, enrichment">

    

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">
    <style>
        .diagnosis-card {
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .image-preview {
            border: 2px dashed #3fbbc0;
            position: relative;
        }
        .highlight-overlay {
            position: absolute;
            border: 2px solid #ff4757;
            background: rgba(255,71,87,0.1);
            pointer-events: none;
        }
        .report-badge {
            font-size: 1.2rem;
            padding: 0.8em 1.5em;
        }
        .tool-content-area {
            display: none; 
        }
        .tool-content-area.active {
             display: block;
        }
        .tools-menu-item.active {
            
             border-radius: 4px;
        }
        :root {
            --科技蓝: #00f3ff;
            --深空黑: #0a0a1a;
            --电子紫: #6c00ff;
            --数据绿: #00ff88;
            --霓虹粉: #ff00ff;
        }

        body {
            background: radial-gradient(circle at center, #0a0a2a, #000013);
            color: #e0e0ff;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        .header {
            background: rgba(10, 10, 26, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--科技蓝);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.2);
        }

        .tools-sidebar {
            background: linear-gradient(160deg, rgba(16, 16, 48, 0.9), rgba(32, 32, 64, 0.9));
            backdrop-filter: blur(15px);
            border-right: 1px solid var(--科技蓝);
            box-shadow: 5px 0 15px rgba(0, 243, 255, 0.1);
            border-radius: 8px;
            padding: 1rem;
        }

        .tools-menu-item a {
            color: #a0a0ff;
            padding: 0.8rem;
            margin: 0.5rem 0;
            border-radius: 6px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tools-menu-item a:before {
            content: '';
            position: absolute;
            left: -100%;
            top: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(0, 243, 255, 0.2), 
                transparent);
            transition: 0.5s;
        }

        .tools-menu-item.active a,
        .tools-menu-item a:hover {
            background: rgba(0, 243, 255, 0.1);
            color: var(--科技蓝);
            transform: translateX(10px);
        }

        .tools-menu-item a:hover:before {
            left: 100%;
        }

        .diagnosis-card {
            background: rgba(16, 16, 48, 0.8);
            border: 1px solid rgba(0, 243, 255, 0.3);
            border-radius: 12px;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease;
        }

        .diagnosis-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.2);
        }

        .btn-tool-primary {
            background: linear-gradient(45deg, var(--电子紫), var(--科技蓝));
            border: none;
            color: white;
            position: relative;
            overflow: hidden;
            transition: 0.3s;
        }

        .btn-tool-primary:after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent, 
                rgba(255,255,255,0.2), 
                transparent);
            transform: rotate(45deg);
            animation: btnGlow 3s infinite;
        }

        @keyframes btnGlow {
            0% { transform: rotate(45deg) translateX(-150%); }
            100% { transform: rotate(45deg) translateX(150%); }
        }

        #diagnosisChart {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 8px;
            border: 1px solid var(--科技蓝);
            padding: 1rem;
        }

        .image-preview {
            position: relative;
            border: 2px solid transparent;
            border-radius: 8px;
            background: 
                linear-gradient(#000, #000) padding-box,
                linear-gradient(45deg, var(--电子紫), var(--科技蓝)) border-box;
        }
        
        
        @keyframes scanLine {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }

        .scan-effect:after {
            content: '';
            position: absolute;
            height: 2px;
            width: 100%;
            background: linear-gradient(90deg, transparent, var(--科技蓝), transparent);
            animation: scanLine 3s infinite;
        }
        .navmenu li a{
            color:white;
        }
        
    </style>
</head>

<body class="index-page">

    <header  class="header sticky-top">

        <div class="branding d-flex align-items-center">
            <div class="container position-relative d-flex align-items-center justify-content-end">

                <nav id="navmenu" class="navmenu" >
                    <ul>
                        <li><a href="index.html" class="active">首页</a></li>
                        
                       
                        <li class="dropdown"><a href="#"><span>医学图像分析</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
                          <ul>
                            <li><a href="WSI.html">WSI图像分析</a></li>
                            <li><a href="#transcriptomics">CT图像分析</a></li>
                            
                          </ul>
                        </li>
                    
                        <li><a href="survival.html">生存分析</a></li>
                    
                        <li><a href="Phenotype.html">基因</a></li>
                    
                        
                      </ul>
                    <i class="mobile-nav-toggle d-xl-none bi bi-list" style="display: none;"></i>
                </nav>
                <a class="cta-btn" href="login.html" >登录</a>
            </div>
        </div>
    </header>

    <main class="main">
        <div class="container mt-5 mb-5">
            <!-- 功能切换区 -->
            <div class="row mb-3">
                <div class="col-md-3">
                    <div class="tools-header" style="background-color:#04041D;">
                        <i class="bi bi-clipboard2-pulse me-2"></i> 诊断功能
                    </div>
                    <ul class="tools-menu">
                        <li class="tools-menu-item active" style="background-color: #04041D">
                            <a href="#imageAnalysis"><i class="bi bi-image me-2"></i>影像分析</a>
                        </li>
                        <li class="tools-menu-item" style="background-color: #04041D">
                            <a href="#visualization"><i class="bi bi-bar-chart-line me-2"></i>数据可视化</a>
                        </li>
                        <li class="tools-menu-item" style="background-color: #04041D">
                            <a href="#healthReport"><i class="bi bi-file-earmark-text me-2"></i>健康报告</a>
                        </li>
                    </ul>
                </div>

                <!-- 内容区域 -->
                <div class="col-md-8">
                    <!-- 影像分析模块 -->
                    <div id="imageAnalysis" class="tool-content-area active">
                        <div class="diagnosis-card card">
                            <div class="card-body">
                                <h2 class="tool-title" style="color: white;"><i class="bi bi-microscope me-2"></i>细胞影像分析</h2>
                                
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <div class="mb-4">
                                            <label class="form-label" style="color: white;">上传细胞切片图片</label>
                                            <div class="image-upload-box">
                                                <input type="file" class="form-control" 
                                                       accept="image/png, image/jpeg" 
                                                       id="medicalImage"
                                                       style="background-color: #000013;color: white;">
                                                <div class="image-preview mt-3 p-2">
                                                    <img src="placeholder.jpg" 
                                                         class="img-fluid" 
                                                         id="imagePreview">
                                                    <div class="highlight-overlay"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6">
                                        <div class="parameter-section">
                                            <h5 class="mb-3" style="color: white;">分析参数设置</h5>
                                            <div class="mb-3">
                                                <label class="form-label" style="color: white;">显示模式</label>
                                                <select class="form-select" id="displayMode" style="background-color: #0a0a2a; color: white;">
                                                    <option value="normal" style="color: white;">标准模式</option>
                                                    <option value="heatmap" style="color: white;">热力图模式</option>
                                                    <option value="edge" style="color: white;">边缘检测模式</option>
                                                </select>
                                            </div>

                                            <div class="highlight-options">
                                                <label class="form-label"  style="color: white;">异常标记</label>
                                                <div class="btn-group-vertical w-100">
                                                    <button type="button" class="btn btn-outline-primary active" style="color: white;">
                                                        细胞核异常
                                                    </button>
                                                    <button type="button" class="btn btn-outline-primary" style="color: white;">
                                                        组织结构异常
                                                    </button>
                                                    <button type="button" class="btn btn-outline-primary" style="color: white;">
                                                        血管增生标记
                                                    </button>
                                                </div>
                                            </div>

                                            <button class="btn btn-tool-primary w-100 mt-3">
                                                <i class="bi bi-play-circle me-2" style="color: white;"></i>开始分析
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 数据可视化模块 -->
                    <div id="visualization" class="tool-content-area">
                        <div class="diagnosis-card card">
                            <div class="card-body">
                                <h2 class="tool-title" style="color: white;"><i class="bi bi-pie-chart me-2"></i>诊断可视化</h2>
                                
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="chart-controls">
                                            <div class="mb-3">
                                                <label class="form-label" style="color: white;">图表类型</label>
                                                <select class="form-select" id="chartType" style="background-color: #0a0a2a;color: white;">
                                                    <option value="pie" style="color: white;background-color: #0a0a2a">概率分布</option>
                                                    <option value="bar" style="color: white;background-color: #0a0a2a">分期统计</option>
                                                    <option value="radar" style="color: white;background-color: #0a0a2a">特征雷达图</option>
                                                </select>
                                            </div>
                                            <div class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" id="realTimeUpdate">
                                                <label class="form-check-label" for="realTimeUpdate"  style="color: white;">实时更新</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <canvas id="diagnosisChart" height="300"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 健康报告模块 -->
                    <div id="healthReport" class="tool-content-area">
                        <div class="diagnosis-card card">
                            <div class="card-body">
                                <h2 class="tool-title" style="color: white;"><i class="bi bi-file-medical me-2"></i>健康报告</h2>
                                
                                <div class="report-header mb-4">
                                    <button class="btn btn-success" id="generateReport">
                                        <i class="bi bi-file-earmark-arrow-down me-2" style="color: white;"></i>生成报告
                                    </button>
                                </div>

                                <div class="report-content">
                                    <div class="risk-assessment mb-4">
                                        <span class="report-badge badge bg-warning" style="color: white;">中等风险</span>
                                        <div class="progress mt-2" style="height: 25px;">
                                            <div class="progress-bar bg-warning" 
                                                 role="progressbar" 
                                                 style="width: 65%" style="color: white;">65% 恶性概率</div>
                                        </div>
                                    </div>

                                    <div class="key-findings">
                                        <h5 style="color: white;"><i class="bi bi-clipboard-data me-2" style="color: white;"></i>关键发现</h5>
                                        <ul class="list-group">
                                            <li class="list-group-item d-flex justify-content-between" style="background-color: #0a0a2a">
                                                <span style="color: white;background-color: #0a0a2a">异常细胞核数量</span>
                                                <span class="text-danger">18个</span>
                                            </li>
                                            <li class="list-group-item d-flex justify-content-between" style="background-color: #0a0a2a">
                                                <span style="color: white;background-color: #0a0a2a">组织结构异常指数</span>
                                                <span class="text-warning">0.47</span>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="recommendations mt-4">
                                        <h5 style="color: white;"><i class="bi bi-heart-pulse me-2" style="color: white;"></i>健康建议</h5>
                                        <div class="accordion" id="recommendAccordion">
                                            <div class="accordion-item">
                                                <h6 class="accordion-header">
                                                    <button class="accordion-button" type="button">
                                                        随访建议
                                                    </button>
                                                </h6>
                                                <div class="accordion-collapse show" style="background-color: #0a0a2a; color: white;">
                                                    <div class="accordion-body">
                                                        建议3个月内进行复查，重点关注...
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    

    
    <!-- Preloader -->
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

    <!-- JS File -->
    <script src="assets/js/main.js"></script>

    <!-- 页面特定脚本 -->
    <script>
        // 功能切换逻辑
        document.addEventListener('DOMContentLoaded', function () {
    const toolLinks = document.querySelectorAll('.tools-menu-item a');
    const toolPanels = document.querySelectorAll('.tool-content-area');

    // 初始化隐藏所有内容区域
    toolPanels.forEach(panel => panel.classList.remove('active'));

    // 点击导航菜单处理
    toolLinks.forEach(link => {
        link.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);

            // 移除所有激活状态
            toolLinks.forEach(item => {
                item.parentElement.classList.remove('active');
            });

            // 隐藏所有内容区域
            toolPanels.forEach(panel => {
                panel.classList.remove('active');
            });

            // 激活当前选项
            this.parentElement.classList.add('active');
            document.getElementById(targetId).classList.add('active');
        });
    });

    // 初始化显示第一个菜单项（可选）
    toolLinks[0].click(); // 如果希望默认显示第一个内容区，取消注释
});

        // 图片预览功能
        document.getElementById('medicalImage').addEventListener('change', function(e) {
            const reader = new FileReader();
            reader.onload = function(event) {
                const preview = document.getElementById('imagePreview');
                preview.src = event.target.result;
                
                // 模拟分析结果（需替换真实数据）
                setTimeout(() => {
                    const overlay = document.querySelector('.highlight-overlay');
                    overlay.style.display = 'block';
                    overlay.style.width = '30%';
                    overlay.style.height = '20%';
                    overlay.style.left = '35%';
                    overlay.style.top = '40%';
                }, 1000);
            }
            reader.readAsDataURL(e.target.files[0]);
        });

        // 图表初始化
        const chartConfig = {
            type: 'pie',
            data: {
                labels: ['正常区域', '良性病变', '恶性病变'],
                datasets: [{
                    data: [65, 25, 10],
                    backgroundColor: ['#4CAF50', '#FFC107', '#F44336']
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'top' },
                    tooltip: { enabled: true }
                }
            }
        };
        
        new Chart(document.getElementById('diagnosisChart'), chartConfig);
        initParticles();
        updateRealTimeData();

        function initParticles() {
             const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            canvas.style.position = 'fixed';
            canvas.style.top = 0;
            canvas.style.left = 0;
            canvas.style.zIndex = -1;
            document.body.appendChild(canvas);

    // 粒子动画逻辑...
}
function updateRealTimeData() {
    const dataElements = document.querySelectorAll('.real-time-data');
    dataElements.forEach(el => {
        el.style.textShadow = `0 0 10px ${getRandomColor()}`;
        el.innerHTML = generateSciFiValue();
    });
    requestAnimationFrame(updateRealTimeData);
}
    </script>
</body>

</html>
